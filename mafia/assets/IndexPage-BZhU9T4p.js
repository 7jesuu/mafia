import{c as xe,i as Oe,e as me,a as f,h as Y,b as je,g as Ne,l as dt,z as ft,L as le,a5 as mt,O as d,P as y,Q as t,S as l,T as R,a6 as ye,R as e,f as Ue,a7 as _t,k as Fe,a8 as vt,a9 as Ke,aa as yt,X as Q,V as a,U,ab as pe,W as k,o as Ye,ac as gt,ad as We,u as pt,j as Pt,r as he,ae as bt,n as Ct,w as qe,af as ht,a1 as ge,t as $e,ag as Rt,Y as ee,ah as St,ai as Xe,aj as Ae,_ as r,ak as kt,al as Re,am as Ze,an as et,ao as tt,$ as ie,ap as Se,a0 as Gt}from"./index-CbP_1Fhm.js";import{u as se}from"./vue-i18n-zD01oK_J.js";import{C as Je,Q as xt,P as o,t as I,v as c,w as s,U as ce,x as At,I as It,u as De,c as wt,y as ke,z as lt,A as ot,B as qt,D as Lt,E as ae,F as Dt,G as Nt,H as $t,J as zt,K as Mt,L as Tt,M as Bt,N as Ht,s as Ot,_ as Jt,a as Vt,b as Et,i as Qt,j as jt,k as Ve,l as Ut,m as Ft,n as Kt,o as Yt,O as Wt,R as Xt,T as Zt,V as el,W as tl,X as ll,Y as Ee,Z as ol,a0 as nl,a1 as sl,a2 as al,a3 as il,a4 as rl,a5 as ul,h as cl}from"./_plugin-vue_export-helper-B_5_feRC.js";import{Q as _e,a as nt}from"./QTabs-KJTiv5Ac.js";import{Q as fe}from"./QList-6wUb88Xh.js";import{Q as ve,a as st}from"./QTabPanels-DxpV_yec.js";import{G as Ce,a as ze,b as dl,c as fl,d as ml,e as _l,f as vl,S as at,C as yl,g as Le,V as Qe}from"./Player.Utilities-U37_xOdV.js";import{P as N}from"./PlayerRoleIcon-BgLKzmIN.js";import{Q as gl}from"./QBtnGroup-DMuz13dD.js";import{_ as pl}from"./ParticipantList.vue_vue_type_script_setup_true_lang-FU-Y7NQS.js";const Pl=xe({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(u,{slots:i}){const{proxy:{$q:n}}=Ne(),_=Oe(dt,me);if(_===me)return console.error("QPage needs to be a deep child of QLayout"),me;if(Oe(ft,me)===me)return console.error("QPage needs to be child of QPageContainer"),me;const g=f(()=>{const q=(_.header.space===!0?_.header.size:0)+(_.footer.space===!0?_.footer.size:0);if(typeof u.styleFn=="function"){const J=_.isContainer.value===!0?_.containerHeight.value:n.screen.height;return u.styleFn(q,J)}return{minHeight:_.isContainer.value===!0?_.containerHeight.value-q+"px":n.screen.height===0?q!==0?`calc(100vh - ${q}px)`:"100vh":n.screen.height-q+"px"}}),G=f(()=>`q-page${u.padding===!0?" q-layout-padding":""}`);return()=>Y("main",{class:G.value,style:g.value},je(i.default))}}),bl={class:"page-container"},Cl=le({__name:"ResponsivePage",emits:["sizeChanged"],setup(u,{emit:i}){const n=i,_=mt("PageElement");function m(){if(_.value!==null){const g=document.querySelector(".page-container");if(g!==null){const G=getComputedStyle(_.value.$el),q=parseFloat(G.paddingTop)+parseFloat(G.paddingBottom),J=parseFloat(G.borderTopWidth)+parseFloat(G.borderBottomWidth);g.style.height=(parseFloat(_.value.$el.style.minHeight)-q-J)*Je.General.ResponsivePageSizeFactor+"px"}n("sizeChanged")}}return(g,G)=>(d(),y(l(Pl),{ref_key:"PageElement",ref:_},{default:t(()=>[R("div",bl,[ye(g.$slots,"default")]),e(xt,{onResize:G[0]||(G[0]=()=>m()),debounce:l(Je).General.ResponsivePageResizeDebounce},null,8,["debounce"])]),_:3},512))}}),hl=xe({name:"QInnerLoading",props:{...Ue,..._t,showing:Boolean,color:String,size:{type:[String,Number],default:"42px"},label:String,labelClass:String,labelStyle:[String,Array,Object]},setup(u,{slots:i}){const n=Ne(),_=Fe(u,n.proxy.$q),{transitionProps:m,transitionStyle:g}=vt(u),G=f(()=>"q-inner-loading q--avoid-card-border absolute-full column flex-center"+(_.value===!0?" q-inner-loading--dark":"")),q=f(()=>"q-inner-loading__label"+(u.labelClass!==void 0?` ${u.labelClass}`:""));function J(){const $=[Y(yt,{size:u.size,color:u.color})];return u.label!==void 0&&$.push(Y("div",{class:q.value,style:u.labelStyle},[u.label])),$}function p(){return u.showing===!0?Y("div",{class:G.value,style:g.value},i.default!==void 0?i.default():J()):null}return()=>Y(Ke,m.value,p)}}),Rl={class:"row justify-center items-center q-col-gutter-x-sm"},Sl={class:"col-auto text-caption"},kl=le({__name:"RoleCountIndicator",props:{civilianCount:{type:Number,required:!0},totalCount:{type:Number,required:!0},mafiaCount:{type:Number,required:!0},murdererCount:{type:Number,required:!0},psychoCount:{type:Number,required:!0},unknownCount:{type:Number,required:!1,default:void 0}},setup(u){const i=u,{t:n}=se();function _(m){return["text-"+Ce(m)]}return(m,g)=>(d(),Q("div",Rl,[R("div",Sl,a(l(n)("Game.TotalPlayerCountLabel",{Count:i.totalCount})),1),g[1]||(g[1]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Civilian)])},a(l(n)("Game.CivilianCountLabel",{Count:i.civilianCount})),3),g[2]||(g[2]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Mafia)])},a(l(n)("Game.MafiaCountLabel",{Count:i.mafiaCount})),3),g[3]||(g[3]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Murderer)])},a(l(n)("Game.MurdererCountLabel",{Count:i.murdererCount})),3),g[4]||(g[4]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Murderer)])},a(l(n)("Game.MurdererCountLabel",{Count:i.murdererCount})),3),g[5]||(g[5]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Psycho)])},a(l(n)("Game.PsychoCountLabel",{Count:i.psychoCount})),3),i.unknownCount!==void 0?(d(),Q(pe,{key:0},[g[0]||(g[0]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Unknown)])},a(l(n)("Game.UnknownCountLabel",{Count:i.unknownCount})),3)],64)):k("",!0)]))}}),Gl=xe({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(u,{slots:i,emit:n}){let _=!1,m,g,G=null,q=null,J,p;function $(){m&&m(),m=null,_=!1,G!==null&&(clearTimeout(G),G=null),q!==null&&(clearTimeout(q),q=null),g!==void 0&&g.removeEventListener("transitionend",J),J=null}function z(w,V,T){V!==void 0&&(w.style.height=`${V}px`),w.style.transition=`height ${u.duration}ms cubic-bezier(.25, .8, .50, 1)`,_=!0,m=T}function S(w,V){w.style.overflowY=null,w.style.height=null,w.style.transition=null,$(),V!==p&&n(V)}function te(w,V){let T=0;g=w,_===!0?($(),T=w.offsetHeight===w.scrollHeight?0:void 0):(p="hide",w.style.overflowY="hidden"),z(w,T,V),G=setTimeout(()=>{G=null,w.style.height=`${w.scrollHeight}px`,J=D=>{q=null,(Object(D)!==D||D.target===w)&&S(w,"show")},w.addEventListener("transitionend",J),q=setTimeout(J,u.duration*1.1)},100)}function oe(w,V){let T;g=w,_===!0?$():(p="show",w.style.overflowY="hidden",T=w.scrollHeight),z(w,T,V),G=setTimeout(()=>{G=null,w.style.height=0,J=D=>{q=null,(Object(D)!==D||D.target===w)&&S(w,"hide")},w.addEventListener("transitionend",J),q=setTimeout(J,u.duration*1.1)},100)}return Ye(()=>{_===!0&&$()}),()=>Y(Ke,{css:!1,appear:u.appear,onEnter:te,onLeave:oe},i.default)}}),de=gt({}),xl=Object.keys(We),Al=xe({name:"QExpansionItem",props:{...We,...pt,...Ue,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Pt,"click","afterShow","afterHide"],setup(u,{slots:i,emit:n}){const{proxy:{$q:_}}=Ne(),m=Fe(u,_),g=he(u.modelValue!==null?u.modelValue:u.defaultOpened),G=he(null),q=bt(),{show:J,hide:p,toggle:$}=Ct({showing:g});let z,S;const te=f(()=>`q-expansion-item q-item-type q-expansion-item--${g.value===!0?"expanded":"collapsed"} q-expansion-item--${u.popup===!0?"popup":"standard"}`),oe=f(()=>u.contentInsetLevel===void 0?null:{["padding"+(_.lang.rtl===!0?"Right":"Left")]:u.contentInsetLevel*56+"px"}),w=f(()=>u.disable!==!0&&(u.href!==void 0||u.to!==void 0&&u.to!==null&&u.to!=="")),V=f(()=>{const P={};return xl.forEach(v=>{P[v]=u[v]}),P}),T=f(()=>w.value===!0||u.expandIconToggle!==!0),D=f(()=>u.expandedIcon!==void 0&&g.value===!0?u.expandedIcon:u.expandIcon||_.iconSet.expansionItem[u.denseToggle===!0?"denseIcon":"icon"]),E=f(()=>u.disable!==!0&&(w.value===!0||u.expandIconToggle===!0)),L=f(()=>({expanded:g.value===!0,detailsId:q.value,toggle:$,show:J,hide:p})),x=f(()=>{const P=u.toggleAriaLabel!==void 0?u.toggleAriaLabel:_.lang.label[g.value===!0?"collapse":"expand"](u.label);return{role:"button","aria-expanded":g.value===!0?"true":"false","aria-controls":q.value,"aria-label":P}});qe(()=>u.group,P=>{S!==void 0&&S(),P!==void 0&&B()});function b(P){w.value!==!0&&$(P),n("click",P)}function O(P){P.keyCode===13&&K(P,!0)}function K(P,v){v!==!0&&G.value!==null&&G.value.focus(),$(P),St(P)}function h(){n("afterShow")}function j(){n("afterHide")}function B(){z===void 0&&(z=ht()),g.value===!0&&(de[u.group]=z);const P=qe(g,ue=>{ue===!0?de[u.group]=z:de[u.group]===z&&delete de[u.group]}),v=qe(()=>de[u.group],(ue,Ie)=>{Ie===z&&ue!==void 0&&ue!==z&&p()});S=()=>{P(),v(),de[u.group]===z&&delete de[u.group],S=void 0}}function re(){const P={class:[`q-focusable relative-position cursor-pointer${u.denseToggle===!0&&u.switchToggleSide===!0?" items-end":""}`,u.expandIconClass],side:u.switchToggleSide!==!0,avatar:u.switchToggleSide},v=[Y(ee,{class:"q-expansion-item__toggle-icon"+(u.expandedIcon===void 0&&g.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:D.value})];return E.value===!0&&(Object.assign(P,{tabindex:0,...x.value,onClick:K,onKeyup:O}),v.unshift(Y("div",{ref:G,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),Y(s,P,()=>v)}function Pe(){let P;return i.header!==void 0?P=[].concat(i.header(L.value)):(P=[Y(s,()=>[Y(c,{lines:u.labelLines},()=>u.label||""),u.caption?Y(c,{lines:u.captionLines,caption:!0},()=>u.caption):null])],u.icon&&P[u.switchToggleSide===!0?"push":"unshift"](Y(s,{side:u.switchToggleSide===!0,avatar:u.switchToggleSide!==!0},()=>Y(ee,{name:u.icon})))),u.disable!==!0&&u.hideExpandIcon!==!0&&P[u.switchToggleSide===!0?"unshift":"push"](re()),P}function X(){const P={ref:"item",style:u.headerStyle,class:u.headerClass,dark:m.value,disable:u.disable,dense:u.dense,insetLevel:u.headerInsetLevel};return T.value===!0&&(P.clickable=!0,P.onClick=b,Object.assign(P,w.value===!0?V.value:x.value)),Y(I,P,Pe)}function be(){return $e(Y("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:oe.value,id:q.value},je(i.default)),[[Rt,g.value]])}function H(){const P=[X(),Y(Gl,{duration:u.duration,onShow:h,onHide:j},be)];return u.expandSeparator===!0&&P.push(Y(ge,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:m.value}),Y(ge,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:m.value})),P}return u.group!==void 0&&B(),Ye(()=>{S!==void 0&&S()}),()=>Y("div",{class:te.value},[Y("div",{class:"q-expansion-item__container relative-position"},H())])}}),Il={key:0,class:"text-positive text-caption"},wl=le({__name:"PlayerList",props:{items:{type:Array,required:!0}},setup(u){const i=u,{t:n}=se(),_=Xe(),{PlainColor:m}=ce();function g(q){return n(ze(q))}function G(q){return["text-"+Ce(q)]}return(q,J)=>(d(),y(fe,{separator:""},{default:t(()=>[(d(!0),Q(pe,null,Ae(i.items,p=>(d(),y(Al,{key:p.Id,"hide-expand-icon":p.IsCurrentPlayer},{header:t(()=>[e(s,{class:U({"inactive-player":!p.IsActive}),side:""},{default:t(()=>[p.IsActive?(d(),y(N,{key:0,role:p.Role,size:"md",color:l(m)},null,8,["role","color"])):(d(),y(ee,{key:1,name:"sym_s_skull",size:"md",color:l(m)},null,8,["color"]))]),_:2},1032,["class"]),e(s,{class:U({"inactive-player":!p.IsActive})},{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PlayerLabel",{Number:p.Number}))+" ",1),p.IsCurrentPlayer?(d(),Q("span",Il,a(l(n)("Game.CurrentPlayerLabel")),1)):k("",!0)]),_:2},1024),e(c,{class:U(p.Role!==void 0?G(p.Role):[]),caption:""},{default:t(()=>[r(a(p.Role!==void 0?g(p.Role):l(n)("General.Unknown")),1)]),_:2},1032,["class"]),p.IsActive?k("",!0):(d(),y(c,{key:0,class:"text-negative",caption:""},{default:t(()=>[r(a(l(n)("Game.InactiveLabel")),1)]),_:1}))]),_:2},1032,["class"]),p.Notes.length>0?(d(),y(s,{key:0,side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(l(n)("Game.NoteCountLabel",{Count:p.Notes.length})),1)]),_:2},1024)]),_:2},1024)):k("",!0),l(_).actions!==void 0?(d(),y(s,{key:1,side:""},{default:t(()=>[ye(q.$slots,"actions",{player:p})]),_:2},1024)):k("",!0)]),default:t(()=>[l(_).notes!==void 0?ye(q.$slots,"notes",{key:0,player:p}):k("",!0)]),_:2},1032,["hide-expand-icon"]))),128))]),_:3}))}}),ql=le({__name:"PlayerNoteChip",props:{note:{type:Object,required:!0}},emits:["remove"],setup(u,{emit:i}){const n=u,_=i,{t:m}=se();function g(p){return dl(p)}function G(p,$){return m(fl(p),{Number:$})}function q(p){return ml(p)}function J(){_("remove")}return(p,$)=>(d(),y(At,{label:G(n.note.Type,n.note.PlayerNumber),icon:g(n.note.Type),color:q(n.note.Type),onRemove:$[0]||($[0]=()=>J()),"text-color":"white",outline:"",removable:""},null,8,["label","icon","color"]))}}),F=le({__name:"MenuItem",props:{label:{type:String,required:!1,default:""},icon:{type:String,required:!1,default:""},color:{type:String,required:!1,default:"primary"},labelClass:{type:String,required:!1,default:""}},setup(u){const i=u,n=f(()=>It(i.icon));return(_,m)=>$e((d(),y(I,{clickable:""},{default:t(()=>[n.value?(d(),y(s,{key:0,side:""},{default:t(()=>[e(ee,{name:i.icon,color:i.color},null,8,["name","color"])]),_:1})):k("",!0),e(s,null,{default:t(()=>[e(c,{class:U(i.labelClass)},{default:t(()=>[r(a(i.label),1)]),_:1},8,["class"])]),_:1})]),_:1})),[[kt]])}}),Ll={class:"row q-col-gutter-sm"},Dl={class:"col-3 min-width-fit-content text-right"},Nl={class:"col-auto text-center"},$l={key:0,class:"col-auto text-caption text-center text-negative"},zl={key:1,class:"col-auto text-caption text-center text-positive"},Ml={key:2,class:"col-auto text-caption text-center"},Tl={key:0,class:"q-focus-helper"},Bl=le({__name:"PlayerGrid",props:{items:{type:Array,required:!0}},emits:["itemClick"],setup(u,{emit:i}){const n=u,_=i,{t:m}=se(),{PlainColor:g}=ce();function G($){return $.Notes.length>0}function q($){return m(ze($))}function J($){return["text-"+Ce($)]}function p($){$.Notes.length<1||_("itemClick",$)}return($,z)=>(d(),Q("div",Ll,[(d(!0),Q(pe,null,Ae(n.items,S=>(d(),Q("div",{class:"col-xs-4 col-sm-3 col-md-2",key:S.Id},[e(Ze,{class:U(["fit q-hoverable",{"cursor-pointer":G(S)}]),onClick:()=>p(S),flat:"",bordered:"","v-ripple":G(S)},{default:t(()=>[e(Re,{class:"row items-center q-pa-none"},{default:t(()=>[z[0]||(z[0]=R("div",{class:"col-3"},null,-1)),R("div",{class:U(["col text-center text-caption",{"inactive-player":!S.IsActive}])},a(l(m)("Game.PlayerLabel",{Number:S.Number})),3),R("div",Dl,[ye($.$slots,"actions",{player:S})])]),_:2},1024),e(Re,{class:U(["column no-wrap q-col-gutter-y-xs q-pa-xs",{"inactive-player":!S.IsActive}])},{default:t(()=>[R("div",Nl,[S.IsActive?(d(),y(N,{key:0,role:S.Role,size:"md",color:l(g)},null,8,["role","color"])):(d(),y(ee,{key:1,name:"sym_s_skull",size:"md",color:l(g)},null,8,["color"]))]),R("div",{class:U(["col-auto text-caption text-center",S.Role!==void 0?J(S.Role):[]])},a(S.Role!==void 0?q(S.Role):l(m)("General.Unknown")),3),S.IsActive?k("",!0):(d(),Q("div",$l,a(l(m)("Game.InactiveLabel")),1)),S.IsCurrentPlayer?(d(),Q("div",zl,a(l(m)("Game.CurrentPlayerLabel")),1)):k("",!0),S.Notes.length>0?(d(),Q("div",Ml,a(l(m)("Game.NoteCountLabel",{Count:S.Notes.length})),1)):k("",!0)]),_:2},1032,["class"]),G(S)?(d(),Q("span",Tl)):k("",!0)]),_:2},1032,["class","onClick","v-ripple"])]))),128))]))}}),Hl=le({__name:"PlayerSessionSummaryList",props:{session:{type:Object,required:!0},roles:{type:Array,required:!1,default:()=>[]}},setup(u){const i=u,{t:n}=se(),_=f(()=>i.session.Players.filter(v=>v.IsActive).length),m=f(()=>i.session.Players.filter(v=>!v.IsActive).length),g=f(()=>i.session.Players.filter(v=>v.Role==o.Mafia).length),G=f(()=>i.session.Players.filter(v=>v.Role==o.Murderer).length),q=f(()=>i.session.Players.filter(v=>v.Role==o.Psycho).length),J=f(()=>i.session.Players.filter(v=>v.Role==o.Poisoner).length),p=f(()=>i.session.Players.filter(v=>v.Role==o.Civilian).length),$=f(()=>i.session.Players.filter(v=>v.Role==o.Admirer).length),z=f(()=>i.session.Players.filter(v=>v.Role==o.Avenger).length),S=f(()=>i.session.Players.filter(v=>v.Role==o.Bodyguard).length),te=f(()=>i.session.Players.filter(v=>v.Role==o.Detective).length),oe=f(()=>i.session.Players.filter(v=>v.Role==o.Doctor).length),w=f(()=>i.session.Players.filter(v=>v.Role==o.Journalist).length),V=f(()=>i.session.Players.filter(v=>v.Role==o.Judge).length),T=f(()=>i.session.Players.filter(v=>v.Role==o.Luckling).length),D=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleMafia).length),E=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleMurderer).length),L=f(()=>i.session.Players.filter(v=>v.Role==o.PossiblePsycho).length),x=f(()=>i.session.Players.filter(v=>v.Role==o.PossiblePoisoner).length),b=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleCivilian).length),O=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleAdmirer).length),K=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleAvenger).length),h=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleBodyguard).length),j=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleDetective).length),B=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleDoctor).length),re=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleJournalist).length),Pe=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleJudge).length),X=f(()=>i.session.Players.filter(v=>v.Role==o.PossibleLuckling).length),be=f(()=>i.session.Players.filter(v=>v.Role==o.Unknown).length),{PlainColor:H}=ce();function P(v){return i.roles.includes(v)}return(v,ue)=>(d(),y(fe,et(tt(i)),{default:t(()=>[e(c,{header:""},{default:t(()=>[r(a(l(n)("Game.PlayerCount")),1)]),_:1}),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(ee,{name:"sym_s_groups",color:l(H),size:"md"},null,8,["color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.TotalPlayerCount")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(i.session.Players.length),1)]),_:1})]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(ee,{name:"sym_s_person",color:l(H),size:"md"},null,8,["color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.ActivePlayers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(_.value),1)]),_:1})]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(ee,{name:"sym_s_skull",color:l(H),size:"md"},null,8,["color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.InactivePlayers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(m.value),1)]),_:1})]),_:1})]),_:1}),e(c,{header:""},{default:t(()=>[r(a(l(n)("Game.PlayerRoles")),1)]),_:1}),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Mafia,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Mafia")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(g.value),1)]),_:1})]),_:1})]),_:1}),P(l(o).Murderer)?(d(),y(I,{key:0},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Murderer,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Murderers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(G.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Psycho)?(d(),y(I,{key:1},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Psycho,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Psychos")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(q.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Poisoner)?(d(),y(I,{key:2},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Poisoner,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Poisoners")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(J.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Civilian,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Civilians")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(p.value),1)]),_:1})]),_:1})]),_:1}),P(l(o).Admirer)?(d(),y(I,{key:3},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Admirer,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Admirers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a($.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Avenger)?(d(),y(I,{key:4},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Avenger,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Avengers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(z.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Bodyguard)?(d(),y(I,{key:5},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Bodyguard,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Bodyguards")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(S.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Detective)?(d(),y(I,{key:6},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Detective,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Detectives")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(te.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Doctor)?(d(),y(I,{key:7},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Doctor,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Doctors")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(oe.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Journalist)?(d(),y(I,{key:8},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Journalist,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Journalists")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(w.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Judge)?(d(),y(I,{key:9},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Judge,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Judges")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(V.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Luckling)?(d(),y(I,{key:10},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Luckling,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Lucklings")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(T.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleMafia,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleMafia")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(D.value),1)]),_:1})]),_:1})]),_:1}),P(l(o).Murderer)?(d(),y(I,{key:11},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleMurderer,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleMurderers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(E.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Psycho)?(d(),y(I,{key:12},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossiblePsycho,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossiblePsychos")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(L.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Poisoner)?(d(),y(I,{key:13},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossiblePoisoner,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossiblePoisoners")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(x.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleCivilian,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleCivilians")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(b.value),1)]),_:1})]),_:1})]),_:1}),P(l(o).Admirer)?(d(),y(I,{key:14},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleAdmirer,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleAdmirers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(O.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Avenger)?(d(),y(I,{key:15},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleAvenger,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleAvengers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(K.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Bodyguard)?(d(),y(I,{key:16},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleBodyguard,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleBodyguards")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(h.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Detective)?(d(),y(I,{key:17},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleDetective,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleDetectives")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(j.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Doctor)?(d(),y(I,{key:18},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleDoctor,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleDoctors")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(B.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Journalist)?(d(),y(I,{key:19},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleJournalist,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleJournalists")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(re.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Judge)?(d(),y(I,{key:20},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleJudge,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleJudges")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(Pe.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),P(l(o).Luckling)?(d(),y(I,{key:21},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).PossibleLuckling,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.PossibleLucklings")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(X.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Unknown,color:l(H),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("General.Unknown")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(be.value),1)]),_:1})]),_:1})]),_:1})]),_:1},16))}}),Ol={class:"column items-center text-grey q-pa-lg"},Jl={class:"col-auto"},Vl={key:0,class:"col-auto text-subtitle1 text-center"},Ge=le({__name:"EmptyPlaceholder",props:{icon:{type:String,required:!1,default:"s_notes"}},setup(u){const i=u,n=Xe();return(_,m)=>(d(),Q("div",Ol,[R("div",Jl,[e(ee,{name:i.icon,size:"4rem"},null,8,["name"])]),l(n).default!==void 0?(d(),Q("div",Vl,[ye(_.$slots,"default")])):k("",!0)]))}}),El={class:"column fit"},Ql={class:"col-auto q-my-sm"},jl={class:"col-auto"},Ul={class:"col-auto"},Fl={class:"column items-center q-col-gutter-y-sm"},Kl={class:"col-auto"},Yl={class:"col-autotext-weight-bold"},Wl=le({__name:"PlayerArea",props:{session:{type:Object,required:!0}},emits:["roleSet","noteAdd","noteRemove","playerRemove","playerRestore"],setup(u,{emit:i}){const n=u,_=i,{t:m}=se(),g=[o.Mafia],G=he("list"),q=De(wt),J=f(()=>[...g,...n.session.AdditionalRoles]),p=f(()=>{const h=[];return n.session.AdditionalRoles.includes(o.Doctor)||h.push(o.Doctor,o.PossibleDoctor),n.session.AdditionalRoles.includes(o.Detective)||h.push(o.Detective,o.PossibleDetective),n.session.AdditionalRoles.includes(o.Murderer)||h.push(o.Murderer,o.PossibleMurderer),n.session.AdditionalRoles.includes(o.Psycho)||h.push(o.Psycho,o.PossiblePsycho),h}),$=f(()=>n.session.Players.filter(h=>h.IsActive).length);f(()=>n.session.Players.filter(h=>!h.IsActive).length);const z=f(()=>n.session.Players.filter(h=>(h.Role==o.Civilian||h.Role==o.Detective||h.Role==o.Doctor)&&h.IsActive).length),S=f(()=>n.session.Players.filter(h=>h.Role==o.Mafia&&h.IsActive).length),te=f(()=>n.session.Players.filter(h=>h.Role==o.Murderer&&h.IsActive).length),oe=f(()=>n.session.Players.filter(h=>h.Role==o.Psycho&&h.IsActive).length),w=f(()=>n.session.Players.filter(h=>h.Role===void 0&&h.IsActive).length),V=f(()=>n.session.Players.slice().sort((h,j)=>h.IsActive!=j.IsActive?Number(j.IsActive)-Number(h.IsActive):h.Number-j.Number)),{PlainColor:T}=ce();async function D(h){await lt(h)}async function E(h){const j=await ot(p.value);j!==void 0&&_("roleSet",h,j.Role)}async function L(h){const j=await qt(n.session.Players.length,n.session.PlayerNumber);j!==void 0&&_("noteAdd",h,j)}function x(h,j){_("noteRemove",h,j)}async function b(h){await Lt(h.Number,h.Notes)}function O(h){_("playerRemove",h)}function K(h){_("playerRestore",h)}return(h,j)=>(d(),Q("div",El,[e(nt,{class:"col-auto text-primary",modelValue:G.value,"onUpdate:modelValue":j[0]||(j[0]=B=>G.value=B),align:"justify","outside-arrows":"","no-caps":""},{default:t(()=>[e(_e,{name:"list",label:l(m)("Game.ListTab")},null,8,["label"]),e(_e,{name:"grid",label:l(m)("Game.GridTab")},null,8,["label"]),e(_e,{name:"summary",label:l(m)("Game.SummaryTab")},null,8,["label"])]),_:1},8,["modelValue"]),R("div",Ql,[G.value=="list"||G.value=="grid"?(d(),y(kl,{key:0,"total-count":$.value,"civilian-count":z.value,"mafia-count":S.value,"murderer-count":te.value,"psycho-count":oe.value,"unknown-count":w.value},null,8,["total-count","civilian-count","mafia-count","murderer-count","psycho-count","unknown-count"])):k("",!0)]),R("div",jl,[e(ge)]),e(st,{modelValue:G.value,"onUpdate:modelValue":j[4]||(j[4]=B=>G.value=B),class:"col fit","keep-alive":"",animated:""},{default:t(()=>[e(ve,{class:"fit q-pa-none",name:"list"},{default:t(()=>[n.session.Players.length>0?(d(),y(wl,{key:0,class:"scroll",items:V.value,separator:""},{actions:t(({player:B})=>[B.IsCurrentPlayer?k("",!0):(d(),y(ie,{key:0,icon:"sym_s_more_vert",onClick:j[1]||(j[1]=Se(()=>{},["stop"])),flat:"",round:""},{default:t(()=>[e(ke,{"auto-close":"","non-square":""},{default:t(()=>[e(fe,null,{default:t(()=>[e(F,{label:l(m)("Game.PlayerCard"),onClick:()=>D(B),icon:"sym_s_account_box",color:l(T)},null,8,["label","onClick","color"]),e(F,{label:l(m)("Game.SetRole"),onClick:()=>E(B.Id),icon:"sym_s_person",color:l(T)},null,8,["label","onClick","color"]),e(F,{label:l(m)("Game.AddNote"),onClick:()=>L(B.Id),disable:B.IsCurrentPlayer,icon:"sym_s_new_label",color:l(T)},null,8,["label","onClick","disable","color"]),B.IsActive?(d(),y(F,{key:0,label:l(m)("Game.RemovePlayer"),onClick:()=>O(B.Id),disable:B.IsCurrentPlayer,icon:"sym_s_block",color:l(T)},null,8,["label","onClick","disable","color"])):(d(),y(F,{key:1,label:l(m)("Game.RestorePlayer"),onClick:()=>K(B.Id),disable:B.IsCurrentPlayer,icon:"sym_s_restart_alt",color:l(T)},null,8,["label","onClick","disable","color"]))]),_:2},1024)]),_:2},1024)]),_:2},1024))]),notes:t(({player:B})=>[(d(!0),Q(pe,null,Ae(B.Notes,re=>(d(),y(ql,{key:re.Id,note:re,"text-color":"white",onRemove:()=>x(B.Id,re),outline:"",removable:""},null,8,["note","onRemove"]))),128))]),_:1},8,["items"])):(d(),y(Ge,{key:1},{default:t(()=>[r(a(l(m)("Game.PlayersEmpty")),1)]),_:1}))]),_:1}),e(ve,{class:"fit q-pa-xs",name:"grid"},{default:t(()=>[n.session.Players.length>0?(d(),y(Bl,{key:0,items:V.value,onItemClick:j[3]||(j[3]=B=>b(B))},{actions:t(({player:B})=>[e(ie,{icon:"sym_s_more_vert",size:"sm",onClick:j[2]||(j[2]=Se(()=>{},["stop"])),flat:"",round:""},{default:t(()=>[e(ke,{"auto-close":"","non-square":""},{default:t(()=>[e(fe,null,{default:t(()=>[e(F,{label:l(m)("Game.PlayerCard"),onClick:()=>D(B),icon:"sym_s_account_box",color:l(T)},null,8,["label","onClick","color"]),e(F,{label:l(m)("Game.SetRole"),onClick:()=>E(B.Id),icon:"sym_s_person",color:l(T)},null,8,["label","onClick","color"]),e(F,{label:l(m)("Game.AddNote"),onClick:()=>L(B.Id),disable:B.IsCurrentPlayer,icon:"sym_s_new_label",color:l(T)},null,8,["label","onClick","disable","color"]),B.IsActive?(d(),y(F,{key:0,label:l(m)("Game.RemovePlayer"),onClick:()=>O(B.Id),disable:B.IsCurrentPlayer,icon:"sym_s_block",color:l(T)},null,8,["label","onClick","disable","color"])):(d(),y(F,{key:1,label:l(m)("Game.RestorePlayer"),onClick:()=>K(B.Id),disable:B.IsCurrentPlayer,icon:"sym_s_restart_alt",color:l(T)},null,8,["label","onClick","disable","color"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(d(),y(Ge,{key:1},{default:t(()=>[r(a(l(m)("Game.PlayersEmpty")),1)]),_:1}))]),_:1}),e(ve,{class:"fit q-pa-xs",name:"summary"},{default:t(()=>[e(Hl,{session:n.session,roles:J.value,separator:""},null,8,["session","roles"])]),_:1})]),_:1},8,["modelValue"]),R("div",Ul,[e(ge)]),e(hl,{class:"blurred",showing:l(q)},{default:t(()=>[R("div",Fl,[R("div",Kl,[e(ee,{name:"sym_s_visibility_off",size:"xl"})]),R("div",Yl,a(l(m)("Game.GameAreaHidden")),1)])]),_:1},8,["showing"])]))}}),Xl={class:"row justify-center items-center q-col-gutter-x-sm"},Zl={class:"col-auto text-caption text-weight-bold"},eo={class:"col-auto text-caption"},to=le({__name:"HostSummaryCountIndicator",props:{currentRound:{type:Number,required:!0},totalCount:{type:Number,required:!0},civilianCount:{type:Number,required:!0},mafiaCount:{type:Number,required:!0},murdererCount:{type:Number,required:!0},poisonerCount:{type:Number,required:!0},psychoCount:{type:Number,required:!0}},setup(u){const i=u,{t:n}=se();function _(m){return["text-"+Ce(m)]}return(m,g)=>(d(),Q("div",Xl,[R("div",Zl,a(l(n)("Game.CurrentRoundNumberLabel",{Number:i.currentRound})),1),g[0]||(g[0]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",eo,a(l(n)("Game.TotalPlayerCountLabel",{Count:i.totalCount})),1),g[1]||(g[1]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Civilian)])},a(l(n)("Game.CivilianCountLabel",{Count:i.civilianCount})),3),g[2]||(g[2]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Mafia)])},a(l(n)("Game.MafiaCountLabel",{Count:i.mafiaCount})),3),g[3]||(g[3]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Murderer)])},a(l(n)("Game.MurdererCountLabel",{Count:i.murdererCount})),3),g[4]||(g[4]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Poisoner)])},a(l(n)("Game.PoisonerCountLabel",{Count:i.poisonerCount})),3),g[5]||(g[5]=R("div",{class:"col-auto text-caption"},"·",-1)),R("div",{class:U(["col-auto text-caption",_(l(o).Psycho)])},a(l(n)("Game.PsychoCountLabel",{Count:i.psychoCount})),3)]))}}),lo={class:"row q-col-gutter-sm"},oo={class:"col-3 min-width-fit-content text-right"},no={class:"col-auto text-center"},so={key:1,class:"col-auto text-caption text-center text-negative"},ao=le({__name:"ParticipantGrid",props:{items:{type:Array,required:!0},specialStatus:{type:Boolean,required:!1,default:!1}},setup(u){const i=u,{t:n}=se(),{PlainColor:_}=ce();function m(p){return n(ze(p))}function g(p){return["text-"+Ce(p)]}function G(p){return n(_l(p))}function q(p){return["text-"+vl(p)]}function J(p){return at.includes(p)}return(p,$)=>(d(),Q("div",lo,[(d(!0),Q(pe,null,Ae(i.items,z=>(d(),Q("div",{class:"col-xs-4 col-sm-3 col-md-2",key:z.Id},[e(Ze,{class:"fit q-hoverable",flat:"",bordered:""},{default:t(()=>[e(Re,{class:"row items-center q-pa-none"},{default:t(()=>[$[0]||($[0]=R("div",{class:"col-3"},null,-1)),R("div",{class:U(["col text-center text-caption",{"inactive-player":!z.IsActive}])},a(l(n)("Game.PlayerLabel",{Number:z.Number})),3),R("div",oo,[ye(p.$slots,"actions",{participant:z})])]),_:2},1024),e(Re,{class:U(["column no-wrap q-col-gutter-y-xs q-pa-xs",{"inactive-player":!z.IsActive}])},{default:t(()=>[R("div",no,[z.IsActive?(d(),y(N,{key:0,role:z.Role,size:"md",color:l(_)},null,8,["role","color"])):(d(),y(ee,{key:1,name:"sym_s_skull",size:"md",color:l(_)},null,8,["color"]))]),R("div",{class:U(["col-auto text-caption text-center",z.Role!==void 0?g(z.Role):[]])},a(z.Role!==void 0?m(z.Role):l(n)("General.Unknown")),3),J(z.Status)?(d(),Q("div",{key:0,class:U(["col-auto text-caption text-center",q(z.Status)])},a(G(z.Status)),3)):k("",!0),z.IsActive?k("",!0):(d(),Q("div",so,a(l(n)("Game.InactiveLabel")),1))]),_:2},1032,["class"])]),_:2},1024)]))),128))]))}}),io=le({__name:"HostSessionSummaryList",props:{session:{type:Object,required:!0},roles:{type:Array,required:!1,default:()=>[]}},setup(u){const i=u,{t:n}=se(),_=f(()=>i.session.Participants.filter(L=>L.IsActive).length),m=f(()=>i.session.Participants.filter(L=>!L.IsActive).length),g=f(()=>i.session.Participants.filter(L=>L.Role==o.Mafia).length),G=f(()=>i.session.Participants.filter(L=>L.Role==o.Murderer).length),q=f(()=>i.session.Participants.filter(L=>L.Role==o.Poisoner).length),J=f(()=>i.session.Participants.filter(L=>L.Role==o.Psycho).length),p=f(()=>i.session.Participants.filter(L=>L.Role==o.Civilian).length),$=f(()=>i.session.Participants.filter(L=>L.Role==o.Admirer).length),z=f(()=>i.session.Participants.filter(L=>L.Role==o.Avenger).length),S=f(()=>i.session.Participants.filter(L=>L.Role==o.Bodyguard).length),te=f(()=>i.session.Participants.filter(L=>L.Role==o.Detective).length),oe=f(()=>i.session.Participants.filter(L=>L.Role==o.Doctor).length),w=f(()=>i.session.Participants.filter(L=>L.Role==o.Journalist).length),V=f(()=>i.session.Participants.filter(L=>L.Role==o.Judge).length),T=f(()=>i.session.Participants.filter(L=>L.Role==o.Luckling).length),{PlainColor:D}=ce();function E(L){return i.roles.includes(L)}return(L,x)=>(d(),y(fe,et(tt(i)),{default:t(()=>[e(c,{header:""},{default:t(()=>[r(a(l(n)("Game.PlayerCount")),1)]),_:1}),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(ee,{name:"sym_s_groups",color:l(D),size:"md"},null,8,["color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.TotalPlayerCount")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(i.session.Participants.length),1)]),_:1})]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(ee,{name:"sym_s_person",color:l(D),size:"md"},null,8,["color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.ActivePlayers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(_.value),1)]),_:1})]),_:1})]),_:1}),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(ee,{name:"sym_s_skull",color:l(D),size:"md"},null,8,["color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.InactivePlayers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(m.value),1)]),_:1})]),_:1})]),_:1}),e(c,{header:""},{default:t(()=>[r(a(l(n)("Game.PlayerRoles")),1)]),_:1}),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Mafia,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Mafia")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(g.value),1)]),_:1})]),_:1})]),_:1}),E(l(o).Murderer)?(d(),y(I,{key:0},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Murderer,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Murderers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(G.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),E(l(o).Poisoner)?(d(),y(I,{key:1},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Poisoner,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Poisoners")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(q.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),E(l(o).Psycho)?(d(),y(I,{key:2},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Psycho,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Psychos")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(J.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),e(I,null,{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Civilian,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Civilians")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(p.value),1)]),_:1})]),_:1})]),_:1}),E(l(o).Admirer)?(d(),y(I,{key:3},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Admirer,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Admirers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a($.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),E(l(o).Avenger)?(d(),y(I,{key:4},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Avenger,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Avengers")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(z.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),E(l(o).Bodyguard)?(d(),y(I,{key:5},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Bodyguard,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Bodyguards")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(S.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),E(l(o).Detective)?(d(),y(I,{key:6},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Detective,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Detectives")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(te.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),E(l(o).Doctor)?(d(),y(I,{key:7},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Doctor,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Doctors")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(oe.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),E(l(o).Journalist)?(d(),y(I,{key:8},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Journalist,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Journalists")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(w.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),E(l(o).Judge)?(d(),y(I,{key:9},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Judge,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Judges")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(V.value),1)]),_:1})]),_:1})]),_:1})):k("",!0),E(l(o).Luckling)?(d(),y(I,{key:10},{default:t(()=>[e(s,{side:""},{default:t(()=>[e(N,{role:l(o).Luckling,color:l(D),size:"md"},null,8,["role","color"])]),_:1}),e(s,null,{default:t(()=>[e(c,null,{default:t(()=>[r(a(l(n)("Game.Lucklings")),1)]),_:1})]),_:1}),e(s,{side:""},{default:t(()=>[e(c,{caption:""},{default:t(()=>[r(a(T.value),1)]),_:1})]),_:1})]),_:1})):k("",!0)]),_:1},16))}}),ro={class:"column fit"},uo={key:1,class:"col fit column items-center justify-center q-col-gutter-y-sm"},co={class:"col-auto"},fo={class:"col-auto text-h6"},mo={key:0},_o={key:1},vo={key:2},yo={key:3},go={key:4},po={class:"col-auto"},Po={class:"col-auto"},bo={class:"col-auto"},Co={class:"col-auto full-width action-button-group q-my-sm"},ho=le({__name:"HostArea",props:{session:{type:Object,required:!0}},emits:["initialRolesSet","rolesSet","statusSet","statusesSet","roleSet","participantRemove","participantsRemove","participantRestore","roundOver","gameEnd"],setup(u,{emit:i}){const n=u,_=i,{t:m}=se(),g=[o.Admirer,o.Avenger,o.Bodyguard,o.Detective,o.Doctor,o.Journalist,o.Judge,o.Luckling,o.Murderer,o.Poisoner,o.Psycho,o.PossibleCivilian,o.PossibleAdmirer,o.PossibleAvenger,o.PossibleBodyguard,o.PossibleDetective,o.PossibleDoctor,o.PossibleJournalist,o.PossibleJudge,o.PossibleLuckling,o.PossibleMafia,o.PossibleMurderer,o.PossiblePoisoner,o.PossiblePsycho,o.Unknown],G=[o.Mafia],q=[o.Mafia,o.Murderer,o.Poisoner,o.Psycho],J=[o.Admirer,o.Avenger,o.Bodyguard,o.Detective,o.Doctor,o.Journalist,o.Judge,o.Luckling,o.Mafia,o.Murderer,o.Poisoner,o.Psycho],p=he("list"),$=f(()=>[...G,...n.session.AdditionalRoles]),z=f(()=>g.filter(C=>!n.session.AdditionalRoles.includes(C))),S=f(()=>n.session.Participants.filter(C=>C.IsActive)),te=f(()=>S.value),oe=f(()=>S.value.length),w=f(()=>n.session.Participants.filter(C=>yl.includes(C.Role)&&C.IsActive).length),V=f(()=>n.session.Participants.filter(C=>C.Role==o.Mafia&&C.IsActive).length),T=f(()=>n.session.Participants.filter(C=>C.Role==o.Murderer&&C.IsActive).length),D=f(()=>n.session.Participants.filter(C=>C.Role==o.Poisoner&&C.IsActive).length),E=f(()=>n.session.Participants.filter(C=>C.Role==o.Psycho&&C.IsActive).length),L=f(()=>n.session.Participants.slice().sort((C,A)=>C.IsActive!=A.IsActive?Number(A.IsActive)-Number(C.IsActive):C.Number-A.Number)),x=f(()=>{const C=[];return H(o.Admirer)&&C.push(ae.ChosenByAdmirers),H(o.Judge)&&C.push(ae.ArrestedByJudges),H(o.Poisoner)&&C.push(ae.PoisonedByPoisoners),C}),b=f(()=>x.value.length>0),O=f(()=>n.session.HasInitialRolesSet&&w.value>0&&V.value<1&&T.value<1&&E.value<1),K=f(()=>n.session.HasInitialRolesSet&&V.value>0&&w.value<=V.value&&T.value<V.value&&D.value<V.value&&E.value<V.value),h=f(()=>n.session.HasInitialRolesSet&&T.value>0&&w.value<=T.value&&V.value<T.value&&D.value<T.value&&E.value<T.value),j=f(()=>n.session.HasInitialRolesSet&&D.value>0&&w.value<=D.value&&V.value<D.value&&T.value<D.value&&E.value<D.value),B=f(()=>n.session.HasInitialRolesSet&&E.value>0&&w.value<=E.value&&V.value<E.value&&T.value<E.value&&D.value<E.value),re=f(()=>n.session.HasInitialRolesSet&&O.value||K.value||h.value||j.value||B.value),{ButtonStyle:Pe,PlainColor:X}=ce();function be(C){return n.session.Participants.map(A=>A.Role).filter(A=>C.includes(A))}function H(C){return n.session.Participants.find(A=>A.IsActive&&A.Role==C)!==void 0}function P(C){_("statusSet",C,ae.None)}function v(C){_("participantRemove",C)}function ue(C){_("participantRestore",C)}function Ie(C){const A=[];let M;for(const ne of S.value){if(M=C.find(Z=>Z.Id==ne.Id),M!==void 0){A.push({Id:ne.Id,Status:M.Status});continue}A.push({Id:ne.Id,Status:ae.None})}_("statusesSet",A)}function it(){_("gameEnd")}async function Me(C){await lt(C)}async function Te(C){const A=await ot(z.value);A!==void 0&&_("roleSet",C,A.Role)}async function Be(C){const A=at.filter(ne=>!x.value.includes(ne)),M=await Dt(A);M!==void 0&&_("statusSet",C,M.Status)}async function rt(){const C=await Nt(te.value);if(C===void 0)return;const A=S.value.filter(W=>C.RemovedParticipants.includes(W.Id)&&!Qe.includes(W.Status)),M=A.map(W=>W.Id),ne=S.value.find(W=>W.Status==ae.PoisonedByPoisoners&&!M.includes(W.Id));ne!==void 0&&(A.push(ne),M.push(ne.Id));const Z=S.value.filter(W=>C.RemovedParticipants.includes(W.Id)&&Qe.includes(W.Status)),He=Z.map(W=>W.Id);let we=te.value.filter(W=>C.RemovedParticipants.includes(W.Id)&&!He.includes(W.Id)).map(W=>({Id:W.Id,Status:ae.RemovedByVoting}));_("statusesSet",we),await $t(A,Z),He.length>0&&(we=Z.map(W=>({Id:W.Id,Status:ae.None}))),_("statusesSet",we),_("participantsRemove",M)}async function ut(){const C=await zt(S.value,!0);C!==void 0&&await Mt(S.value.filter(A=>C.includes(A.Id)),S.value.filter(A=>!C.includes(A.Id)))}async function ct(){const C=be(J),A=n.session.AdditionalRoles.concat(G).filter(Z=>!C.includes(Z));if(q.filter(Z=>A.includes(Z)).length>0){const Z=await Tt(S.value,A);if(Z===void 0)return;_("initialRolesSet",Z.MafiaRoles.concat(Z.MurdererRoles).concat(Z.PsychoRoles).concat(Z.PoisonerRoles));return}else n.session.HasInitialRolesSet||_("initialRolesSet",[]);const M=await Bt(S.value,A);if(M===void 0)return;M.SetRoles.length>0&&_("rolesSet",M.SetRoles);const ne=S.value.filter(Z=>M.RemovedParticipants.includes(Z.Id));await Ht(ne),Ie(M.SetStatuses),_("participantsRemove",M.RemovedParticipants),_("roundOver")}return(C,A)=>(d(),Q("div",ro,[e(nt,{class:"col-auto text-primary q-my-sm",modelValue:p.value,"onUpdate:modelValue":A[0]||(A[0]=M=>p.value=M),align:"justify","outside-arrows":"","no-caps":""},{default:t(()=>[e(_e,{name:"list",label:l(m)("Game.ListTab")},null,8,["label"]),e(_e,{name:"grid",label:l(m)("Game.GridTab")},null,8,["label"]),e(_e,{name:"summary",label:l(m)("Game.SummaryTab")},null,8,["label"])]),_:1},8,["modelValue"]),p.value=="list"||p.value=="grid"?(d(),y(to,{key:0,class:"col-auto q-my-sm","current-round":n.session.CurrentRound,"total-count":oe.value,"civilian-count":w.value,"mafia-count":V.value,"murderer-count":T.value,"poisoner-count":D.value,"psycho-count":E.value},null,8,["current-round","total-count","civilian-count","mafia-count","murderer-count","poisoner-count","psycho-count"])):k("",!0),re.value?(d(),Q("div",uo,[R("div",co,[e(ee,{name:K.value?Le(l(o).Mafia):h.value?Le(l(o).Murderer):Le(l(o).Civilian),color:l(X),size:"xl"},null,8,["name","color"])]),R("div",fo,[K.value?(d(),Q("span",mo,a(l(m)("Game.MafiaVictory")),1)):h.value?(d(),Q("span",_o,a(l(m)("Game.MurdererVictory")),1)):j.value?(d(),Q("span",vo,a(l(m)("Game.PoisonerVictory")),1)):B.value?(d(),Q("span",yo,a(l(m)("Game.PsychoVictory")),1)):(d(),Q("span",go,a(l(m)("Game.CivilianVictory")),1))]),R("div",po,[$e(e(ie,Gt({class:"full-width",label:l(m)("Game.EndGame"),onClick:A[1]||(A[1]=()=>it()),color:"primary"},l(Pe),{"no-caps":""}),null,16,["label"]),[[Ot]])])])):(d(),Q(pe,{key:2},[R("div",Po,[e(ge)]),e(st,{modelValue:p.value,"onUpdate:modelValue":A[4]||(A[4]=M=>p.value=M),class:"col fit","keep-alive":"",animated:""},{default:t(()=>[e(ve,{class:"fit q-pa-none",name:"list"},{default:t(()=>[n.session.Participants.length>0?(d(),y(pl,{key:0,class:"fit scroll",items:L.value,specialStatus:"",separator:""},{actions:t(({participant:M})=>[e(ie,{icon:"sym_s_more_vert",onClick:A[2]||(A[2]=Se(()=>{},["stop"])),flat:"",round:""},{default:t(()=>[e(ke,{"auto-close":"","non-square":""},{default:t(()=>[e(fe,null,{default:t(()=>[e(F,{label:l(m)("Game.PlayerCard"),onClick:()=>Me(M),icon:"sym_s_account_box",color:l(X)},null,8,["label","onClick","color"]),e(F,{label:l(m)("Game.SetRole"),onClick:()=>Te(M.Id),icon:"sym_s_person",color:l(X)},null,8,["label","onClick","color"]),e(F,{label:l(m)("Game.SetStatus"),disable:!b.value,onClick:()=>Be(M.Id),icon:"sym_s_flash_on",color:l(X)},null,8,["label","disable","onClick","color"]),e(F,{label:l(m)("Game.ResetStatus"),disable:M.Status==l(ae).None,onClick:()=>P(M.Id),icon:"sym_s_flash_off",color:l(X)},null,8,["label","disable","onClick","color"]),M.IsActive?(d(),y(F,{key:0,label:l(m)("Game.RemovePlayer"),onClick:()=>v(M.Id),icon:"sym_s_block",color:l(X)},null,8,["label","onClick","color"])):(d(),y(F,{key:1,label:l(m)("Game.RestorePlayer"),onClick:()=>ue(M.Id),icon:"sym_s_restart_alt",color:l(X)},null,8,["label","onClick","color"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(d(),y(Ge,{key:1},{default:t(()=>[r(a(l(m)("Game.ParticipantsEmpty")),1)]),_:1}))]),_:1}),e(ve,{class:"fit q-pa-xs",name:"grid"},{default:t(()=>[n.session.Participants.length>0?(d(),y(ao,{key:0,items:L.value,specialStatus:""},{actions:t(({participant:M})=>[e(ie,{icon:"sym_s_more_vert",size:"sm",onClick:A[3]||(A[3]=Se(()=>{},["stop"])),flat:"",round:""},{default:t(()=>[e(ke,{"auto-close":"","non-square":""},{default:t(()=>[e(fe,null,{default:t(()=>[e(F,{label:l(m)("Game.PlayerCard"),onClick:()=>Me(M),icon:"sym_s_account_box",color:l(X)},null,8,["label","onClick","color"]),e(F,{label:l(m)("Game.SetRole"),onClick:()=>Te(M.Id),icon:"sym_s_person",color:l(X)},null,8,["label","onClick","color"]),e(F,{label:l(m)("Game.SetStatus"),disable:!b.value,onClick:()=>Be(M.Id),icon:"sym_s_flash_on",color:l(X)},null,8,["label","disable","onClick","color"]),e(F,{label:l(m)("Game.ResetStatus"),disable:M.Status==l(ae).None,onClick:()=>P(M.Id),icon:"sym_s_flash_off",color:l(X)},null,8,["label","disable","onClick","color"]),M.IsActive?(d(),y(F,{key:0,label:l(m)("Game.RemovePlayer"),onClick:()=>v(M.Id),icon:"sym_s_block",color:l(X)},null,8,["label","onClick","color"])):(d(),y(F,{key:1,label:l(m)("Game.RestorePlayer"),onClick:()=>ue(M.Id),icon:"sym_s_restart_alt",color:l(X)},null,8,["label","onClick","color"]))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:1},8,["items"])):(d(),y(Ge,{key:1},{default:t(()=>[r(a(l(m)("Game.PlayersEmpty")),1)]),_:1}))]),_:1}),e(ve,{class:"fit q-pa-xs",name:"summary"},{default:t(()=>[e(io,{session:n.session,roles:$.value,separator:""},null,8,["session","roles"])]),_:1})]),_:1},8,["modelValue"]),R("div",bo,[e(ge)]),R("div",Co,[e(gl,{class:"q-ma-sm",flat:"",spread:""},{default:t(()=>[e(ie,{label:l(m)("Game.Vote"),onClick:A[5]||(A[5]=()=>rt()),color:"primary",outline:"","no-caps":""},null,8,["label"]),e(ie,{label:l(m)("Game.Discuss"),onClick:A[6]||(A[6]=()=>ut()),color:"primary",outline:"","no-caps":""},null,8,["label"]),e(ie,{label:l(m)("Game.PlayRound"),onClick:A[7]||(A[7]=()=>ct()),color:"primary",unelevated:"","no-caps":""},null,8,["label"])]),_:1})])],64))]))}}),Ro=Jt(ho,[["__scopeId","data-v-47a7b44c"]]),So={key:2,class:"col fit flex flex-center"},ko={class:"column q-col-gutter-y-md"},Go={class:"col-auto text-center"},xo={class:"col-auto text-center"},Ao={class:"col-auto text-center"},Bo=le({__name:"IndexPage",setup(u){const{t:i}=se(),n=De(Vt),_=De(Et);ce();async function m(){const x=await Qt();if(x===void 0)return;const b=jt(x.PlayerCount,x.PlayerNumber,x.PlayerRole,x.AdditionalRoles);if(b===void 0){await Ve(i("General.Error"),i("Game.CreatePlayerSessionError"));return}Ut(b)}async function g(){const x=await Ft();if(x===void 0)return;const b=Kt(x.Participants,x.HasInitialRolesSet,x.AdditionalRoles);if(b===void 0){await Ve(i("General.Error"),i("Game.CreatePlayerSessionError"));return}Yt(b)}function G(x,b){Wt(x,b)}function q(x,b){Xt(x,b)}function J(x,b){Zt(x,b)}function p(x){el(x)}function $(x){tl(x)}function z(x,b){ll(x,b)}function S(x){Ee(x),ol()}function te(x){Ee(x)}function oe(x,b){nl(x,b)}function w(x){sl(x)}function V(x){al(x)}function T(x){il(x)}function D(x){rl(x)}function E(){ul()}function L(){cl()}return(x,b)=>(d(),y(Cl,{class:"column"},{default:t(()=>[l(n)!==void 0?(d(),y(Wl,{key:0,class:"col fit scroll",session:l(n),onRoleSet:b[0]||(b[0]=(O,K)=>G(O,K)),onNoteAdd:b[1]||(b[1]=(O,K)=>q(O,K)),onNoteRemove:b[2]||(b[2]=(O,K)=>J(O,K)),onPlayerRemove:b[3]||(b[3]=O=>p(O)),onPlayerRestore:b[4]||(b[4]=O=>$(O))},null,8,["session"])):l(_)!==void 0?(d(),y(Ro,{key:1,class:"col fit scroll",session:l(_),onRoleSet:b[5]||(b[5]=(O,K)=>z(O,K)),onInitialRolesSet:b[6]||(b[6]=O=>S(O)),onRolesSet:b[7]||(b[7]=O=>te(O)),onStatusSet:b[8]||(b[8]=(O,K)=>oe(O,K)),onStatusesSet:b[9]||(b[9]=O=>w(O)),onParticipantRemove:b[10]||(b[10]=O=>V(O)),onParticipantsRemove:b[11]||(b[11]=O=>T(O)),onParticipantRestore:b[12]||(b[12]=O=>D(O)),onRoundOver:b[13]||(b[13]=()=>E()),onGameEnd:b[14]||(b[14]=()=>L())},null,8,["session"])):(d(),Q("div",So,[R("div",ko,[R("div",Go,[e(ie,{label:l(i)("Game.ParticipateInGame"),onClick:b[15]||(b[15]=()=>m()),unelevated:"",color:"primary","no-caps":""},null,8,["label"])]),R("div",xo,a(l(i)("Game.OrSeparator")),1),R("div",Ao,[e(ie,{label:l(i)("Game.HostGame"),onClick:b[16]||(b[16]=()=>g()),unelevated:"",color:"primary","no-caps":""},null,8,["label"])])])]))]),_:1}))}});export{Bo as default};
