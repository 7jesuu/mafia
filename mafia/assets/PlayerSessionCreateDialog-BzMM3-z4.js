import{L as K,r as p,a as f,w as V,O as k,P as R,Q as i,R as o,am as W,al as D,T as s,V as y,S as t,t as X,$ as b,a1 as S,aZ as Z,aX as $,W as z,a0 as E,aY as ee}from"./index-mZFDmhnv.js";import{Q as A}from"./QSelect-BgVmAFQS.js";import{a as ae,Q}from"./QTabPanels-DtneUSqx.js";import{Q as le}from"./QBtnGroup-crTlgAuY.js";import{P as e,C,a7 as oe,a9 as w,U as te,aa as se,s as ue,_ as ne}from"./_plugin-vue_export-helper-VXAAOWQH.js";import{u as ie}from"./vue-i18n-BYz-iA8F.js";import{u as B}from"./use-dialog-plugin-component-CnvAtoGJ.js";import{P as re}from"./PlayerCountInput--EOvmu8X.js";import"./format-BvkBI9bc.js";import"./QSlider-DtpxoMao.js";import"./TouchPan-BuTX8gVK.js";const me={class:"col"},ce={class:"text-subtitle1"},de={class:"col-auto"},ve={class:"column fit no-wrap q-col-gutter-y-md"},pe={class:"col-auto text-caption"},fe={class:"col-auto"},be={class:"column fit no-wrap q-col-gutter-y-md"},Ce={class:"col-auto text-caption"},ye={class:"col-auto"},Ge={class:"col-auto"},ge={class:"col-auto"},Pe=K({__name:"PlayerSessionCreateDialog",emits:[...B.emits],setup(_e){const{dialogRef:M,onDialogOK:x,onDialogHide:N}=B(),{t:a}=ie({}),O=[{value:e.Civilian,label:a("Game.Civilian")},{value:e.Mafia,label:a("Game.Mafia")}],G=[{value:e.Doctor,label:a("Game.Doctor")},{value:e.Detective,label:a("Game.Detective")},{value:e.Murderer,label:a("Game.Murderer")},{value:e.Psycho,label:a("Game.Psycho")},{value:e.Admirer,label:a("Game.Admirer")},{value:e.Avenger,label:a("Game.Avenger")},{value:e.Bodyguard,label:a("Game.Bodyguard")},{value:e.Journalist,label:a("Game.Journalist")},{value:e.Judge,label:a("Game.Judge")},{value:e.Luckling,label:a("Game.Luckling")}],g=[e.Doctor,e.Detective,e.Murderer],U=[e.Murderer,e.Doctor,e.Detective,e.Admirer,e.Avenger,e.Bodyguard,e.Journalist,e.Judge,e.Luckling],m=p(C.Game.PlayerDefaultCount),d=p(1),c=p(g),v=p(e.Civilian),r=p("count"),h=f(()=>oe(m.value,u=>({value:u+1,label:String(u+1)}))),q=f(()=>O.concat(G.filter(u=>c.value.includes(u.value)))),P=f(()=>r.value!="count"),_=f(()=>r.value=="roles"),J=f(()=>w(m.value,C.Game.PlayerMinimumCount,C.Game.PlayerMaximumCount)&&w(d.value,1,m.value)),{ButtonStyle:I,ComponentColor:L}=te();V(m,u=>{d.value=se(d.value,1,u)}),V(c,u=>{u.includes(v.value)||(v.value=e.Civilian)});function T(){switch(r.value){case"roles":r.value="count";break}}function F(){switch(r.value){case"count":r.value="roles";break}}function H(){c.value=g}function Y(){c.value=U}function j(){x({PlayerCount:m.value,PlayerNumber:d.value,PlayerRole:v.value,AdditionalRoles:c.value})}return(u,l)=>(k(),R(ee,{ref_key:"dialogRef",ref:M,onHide:l[9]||(l[9]=()=>t(N)()),persistent:""},{default:i(()=>[o(W,{class:"q-dialog-plugin dialog-card column no-wrap","non-square":""},{default:i(()=>[o(D,{class:"col-auto row items-center justify-between"},{default:i(()=>[s("div",me,[s("div",ce,y(t(a)("Game.GameSetup")),1)]),s("div",de,[X(o(b,{icon:"s_close",round:"",flat:""},null,512),[[ue]])])]),_:1}),o(S),o(D,{class:"col scroll"},{default:i(()=>[o(ae,{modelValue:r.value,"onUpdate:modelValue":l[6]||(l[6]=n=>r.value=n),class:"fit","keep-alive":"",animated:""},{default:i(()=>[o(Q,{class:"fit q-pa-md",name:"count"},{default:i(()=>[s("div",ve,[s("div",pe,y(t(a)("Game.NumberOfPlayers")),1),o(re,{class:"col-auto",modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=n=>m.value=n),minimum:t(C).Game.PlayerMinimumCount,maximum:t(C).Game.PlayerMaximumCount},null,8,["modelValue","minimum","maximum"]),s("div",fe,[o(A,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=n=>d.value=n),options:h.value,label:t(a)("Game.PlayerOwnNumber"),behavior:"menu","map-options":"","emit-value":"","hide-bottom-space":"",outlined:""},null,8,["modelValue","options","label"])])])]),_:1}),o(Q,{class:"fit q-pa-md",name:"roles"},{default:i(()=>[s("div",be,[s("div",Ce,y(t(a)("Game.AdditionalRoles")),1),s("div",ye,[o(le,{spread:"",outline:""},{default:i(()=>[o(b,{onClick:l[2]||(l[2]=()=>H()),label:t(a)("Game.Classic"),outline:"","no-caps":""},null,8,["label"]),o(b,{onClick:l[3]||(l[3]=()=>Y()),label:t(a)("Game.Mafia20"),outline:"","no-caps":""},null,8,["label"])]),_:1})]),s("div",Ge,[o(Z,{modelValue:c.value,"onUpdate:modelValue":l[4]||(l[4]=n=>c.value=n),options:G,type:"checkbox",color:t(L)},null,8,["modelValue","color"])]),s("div",ge,[o(A,{modelValue:v.value,"onUpdate:modelValue":l[5]||(l[5]=n=>v.value=n),options:q.value,label:t(a)("Game.YourRole"),behavior:"menu","map-options":"","emit-value":"","hide-bottom-space":"",outlined:""},null,8,["modelValue","options","label"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(S),o($,{class:"col-auto",align:"right"},{default:i(()=>[P.value?(k(),R(b,{key:0,onClick:l[7]||(l[7]=()=>T()),label:t(a)("General.Back"),disable:!P.value,color:"primary",flat:"","no-caps":""},null,8,["label","disable"])):z("",!0),o(b,E({onClick:l[8]||(l[8]=()=>_.value?j():F()),label:_.value?t(a)("General.Accept"):t(a)("General.Next"),disable:!J.value,color:"primary"},t(I),{"no-caps":""}),null,16,["label","disable"])]),_:1})]),_:1})]),_:1},512))}}),Ne=ne(Pe,[["__scopeId","data-v-0383a927"]]);export{Ne as default};
