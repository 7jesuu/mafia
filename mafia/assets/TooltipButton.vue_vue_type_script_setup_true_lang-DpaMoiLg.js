import{c as oe,u as se,a7 as y,A as ie,j as re,r as k,a as u,aB as ue,m as de,a8 as ce,n as fe,aC as ge,w as q,o as E,au as x,at as _,C as he,h as B,a9 as me,g as ve,b as be,ah as pe,L as ye,O as H,P as L,Q as A,S as D,_ as Te,V as Se,W as Pe,a6 as we,a0 as Ce,$ as Oe}from"./index-CbP_1Fhm.js";import{aj as ke,ak as j,al as qe,am as M,an as Ee,ao as xe,ap as Q,aq as _e,ar as N,as as Be,C as He}from"./_plugin-vue_export-helper-B_5_feRC.js";const Le=oe({name:"QTooltip",inheritAttrs:!1,props:{...ke,...se,...y,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{...y.transitionShow,default:"jump-down"},transitionHide:{...y.transitionHide,default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:j},self:{type:String,default:"top middle",validator:j},offset:{type:Array,default:()=>[14,14],validator:qe},scrollTarget:ie,delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...re],setup(e,{slots:a,emit:g,attrs:i}){let o,r;const v=ve(),{proxy:{$q:n}}=v,d=k(null),h=k(!1),V=u(()=>M(e.anchor,n.lang.rtl)),W=u(()=>M(e.self,n.lang.rtl)),$=u(()=>e.persistent!==!0),{registerTick:I,removeTick:R}=ue(),{registerTimeout:m}=de(),{transitionProps:G,transitionStyle:U}=ce(e),{localScrollTarget:T,changeScrollEvent:z,unconfigureScrollTarget:F}=Ee(e,C),{anchorEl:l,canShow:J,anchorEvents:c}=xe({showing:h,configureAnchorEl:ae}),{show:K,hide:b}=fe({showing:h,canShow:J,handleShow:Y,handleHide:Z,hideOnRouteChange:$,processOnMount:!0});Object.assign(c,{delayShow:ee,delayHide:te});const{showPortal:S,hidePortal:P,renderPortal:X}=ge(v,d,le,"tooltip");if(n.platform.is.mobile===!0){const t={anchorEl:l,innerRef:d,onClickOutside(s){return b(s),s.target.classList.contains("q-dialog__backdrop")&&pe(s),!0}},p=u(()=>e.modelValue===null&&e.persistent!==!0&&h.value===!0);q(p,s=>{(s===!0?Be:Q)(t)}),E(()=>{Q(t)})}function Y(t){S(),I(()=>{r=new MutationObserver(()=>f()),r.observe(d.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),f(),C()}),o===void 0&&(o=q(()=>n.screen.width+"|"+n.screen.height+"|"+e.self+"|"+e.anchor+"|"+n.lang.rtl,f)),m(()=>{S(!0),g("show",t)},e.transitionDuration)}function Z(t){R(),P(),w(),m(()=>{P(!0),g("hide",t)},e.transitionDuration)}function w(){r!==void 0&&(r.disconnect(),r=void 0),o!==void 0&&(o(),o=void 0),F(),x(c,"tooltipTemp")}function f(){_e({targetEl:d.value,offset:e.offset,anchorEl:l.value,anchorOrigin:V.value,selfOrigin:W.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ee(t){if(n.platform.is.mobile===!0){N(),document.body.classList.add("non-selectable");const p=l.value,s=["touchmove","touchcancel","touchend","click"].map(O=>[p,O,"delayHide","passiveCapture"]);_(c,"tooltipTemp",s)}m(()=>{K(t)},e.delay)}function te(t){n.platform.is.mobile===!0&&(x(c,"tooltipTemp"),N(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),m(()=>{b(t)},e.hideDelay)}function ae(){if(e.noParentEvent===!0||l.value===null)return;const t=n.platform.is.mobile===!0?[[l.value,"touchstart","delayShow","passive"]]:[[l.value,"mouseenter","delayShow","passive"],[l.value,"mouseleave","delayHide","passive"]];_(c,"anchor",t)}function C(){if(l.value!==null||e.scrollTarget!==void 0){T.value=he(l.value,e.scrollTarget);const t=e.noParentEvent===!0?f:b;z(T.value,t)}}function ne(){return h.value===!0?B("div",{...i,ref:d,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",i.class],style:[i.style,U.value],role:"tooltip"},be(a.default)):null}function le(){return B(me,G.value,ne)}return E(w),Object.assign(v.proxy,{updatePosition:f}),X}}),je=ye({__name:"TooltipButton",props:{label:{type:String,required:!1,default:void 0},showLabel:{type:Boolean,required:!1,default:!1},toggled:{type:Boolean,required:!1,default:!1},disable:{type:Boolean,required:!1,default:!1}},setup(e){const a=e,g=u(()=>!a.disable&&!a.showLabel&&a.label!==void 0&&String(a.label).length>0),i=u(()=>{if(a.label!==void 0&&String(a.label).length>0)return String(a.label)});return(o,r)=>(H(),L(D(Oe),Ce(a,{class:{"q-btn--toggled q-btn--outline":a.toggled},label:a.showLabel?i.value:void 0,disable:a.disable}),{default:A(()=>[g.value?(H(),L(Le,{key:0,delay:D(He).General.TooltipDelay},{default:A(()=>[Te(Se(i.value),1)]),_:1},8,["delay"])):Pe("",!0),we(o.$slots,"default")]),_:3},16,["class","label","disable"]))}});export{Le as Q,je as _};
